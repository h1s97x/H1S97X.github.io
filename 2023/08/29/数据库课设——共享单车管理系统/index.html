
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>数据库课设——共享单车管理系统 - Hexo</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="Flask Web 开发实战The Flask Mega-Tutorial
数据库：数据库设计（需求，设计，运行，维护）-CSDN博客
同济——GitHub项目
wenshaofeng&amp;#x2F;b,"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/diaspora.css">
<link rel="stylesheet" href="/css/site.css">


    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="数据库课设——共享单车管理系统 - Hexo"/>
    <meta name="twitter:description" content="Flask Web 开发实战The Flask Mega-Tutorial
数据库：数据库设计（需求，设计，运行，维护）-CSDN博客
同济——GitHub项目
wenshaofeng&amp;#x2F;b,"/>
    
    
    
    
    <meta property="og:site_name" content="Hexo"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="数据库课设——共享单车管理系统 - Hexo"/>
    <meta property="og:description" content="Flask Web 开发实战The Flask Mega-Tutorial
数据库：数据库设计（需求，设计，运行，维护）-CSDN博客
同济——GitHub项目
wenshaofeng&amp;#x2F;b,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">

    <!-- 代码块复制 -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard@latest/dist/clipboard.js"></script>

    <!-- 点击效果 -->
    
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/gh/5MayRain/5MayRain.github.io@latest/js/fireworks.js"></script>
    

    <!-- live2d -->
    <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Hexo</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">数据库课设——共享单车管理系统</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <!-- 帖子视图 -->

    <div class="post_cover" >
        
            <img src="/img/img1.jpg,/img/welcome-cover.jpg" />
        
        <div class="post_cover_mask"></div>
        <div class="post_text">
            <h1>数据库课设——共享单车管理系统</h1>
            <div>
                <span>八月 29, 2023</span>

                

            </div>
        </div>
    </div>


<div class="article">
    <div class='main'>
        <!-- 帖子视图 -->
        

        <!-- 更新时间 -->
        <div class="updated">
            <div></div>
            <span>该文章更新于 2023.08.29</span>
        </div>

        <h1 class="title">数据库课设——共享单车管理系统</h1>
        <div class="stuff">
            <span>八月 29, 2023</span>
            

        </div>
        <div class="content markdown">
            <p><a target="_blank" rel="noopener" href="https://helloflask.com/">Flask Web 开发实战</a><br><a target="_blank" rel="noopener" href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ii-templates">The Flask Mega-Tutorial</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42192693/article/details/109720940?ydreferer=aHR0cHM6Ly93d3cuYmluZy5jb20v?ydreferer=aHR0cHM6Ly93d3cuYmluZy5jb20v">数据库：数据库设计（需求，设计，运行，维护）-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/zzhuncle/TJCS-Courses/blob/b1ef65d8891e879c81c81c75bcd738644e75b66c/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86-%E6%9D%8E%E6%96%87%E6%A0%B9/%E6%9C%9F%E6%9C%AB%E5%A4%A7%E4%BD%9C%E4%B8%9A/1853790_%E5%BA%84%E9%95%87%E5%8D%8E_%E4%B8%AA%E4%BA%BA%E8%AE%BE%E8%AE%A1%E6%8A%A5%E5%91%8A.pdf">同济——GitHub项目</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/wenshaofeng/bikeMs">wenshaofeng&#x2F;bikeMs: 学习用react写共享单车后台管理系统 (github.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_48958478/article/details/125510250">软件建模与分析–共享单车管理系统-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/GP12088/article/details/132345959?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8=?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8=?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8=">计算机毕业设计springboot校园共享单车系统的设计与实现0v1439[附源码]</a></p>
<h3 id="实战开始"><a href="#实战开始" class="headerlink" title="实战开始"></a>实战开始</h3><h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><p>第一步就遇到困难，完全不知道如何下手，<br>选择GitHub上公开的项目进行补充修改，操作系统采用Windows 11，数据库采用MySQL，后端框架采用Flask，编程语言是python</p>
<h4 id="Flask框架学习"><a href="#Flask框架学习" class="headerlink" title="Flask框架学习"></a>Flask框架学习</h4><p>搭建Flask环境：</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pip install flask</span><br><span class="line">pip install pipenv</span><br><span class="line"></span><br><span class="line">在项目目录下创建虚拟环境</span><br><span class="line">pipenv install</span><br><span class="line">激活虚拟环境</span><br><span class="line">pipenv shell</span><br><span class="line">在虚拟环境里安装Flask</span><br><span class="line">pipenv install flask</span><br><span class="line">更新Flask</span><br><span class="line">pipenv update flask</span><br><span class="line">查看项目对应的虚拟环境路径</span><br><span class="line">pipenv --venv</span><br></pre></td></tr></table></figure>

<p>启动开发服务器:</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">在虚拟环境中运行(提前激活虚拟环境 pipenv shell)</span><br><span class="line">flask run</span><br><span class="line">主程序文件名应为app.py或者wsgi.py，否则需要设置环境变量FLASK_APP的模块名</span><br><span class="line">$ export FLASK_APP=hello.py # linux</span><br><span class="line">&gt; set FLASK_APP=hello.py # windows</span><br><span class="line"></span><br><span class="line">管理环境变量</span><br><span class="line">pipenv install python-dotenv</span><br><span class="line">创建.env文件（用来存放包含敏感信息的环境变量，例如账号密码）</span><br><span class="line">创建.flaskenv文件（用来存放和FLASK相关的公开环境变量，例如FLASK_APP）</span><br><span class="line"></span><br><span class="line">设置运行环境：</span><br><span class="line">在.flaskenv文件中添加</span><br><span class="line">FLASK_ENV=development # 开发环境development,默认为production(生产环境)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 安装watchdog 监听文件变化，自动重启服务器</span><br><span class="line">pipenv install watchdog --dev </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>项目配置:</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在项目根目录下创建config.py文件</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>使用pipenv安装扩展Flask-WTF处理表单:<br>pipenv install flask-wtf</p>
<h5 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/woshisangsang/article/details/120450353">Python Flask 简明教程(7)–路由使用方法详解</a></p>
<p>路由就是URL和Python函数的映射关系，说的再明白点，就是客户端请求哪个路径交给哪个函数处理的问题。<br>通过给函数添加装饰器@app.route，即可定义路由，装饰器的参数即为对应的URL。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/Web_mechanics/What_is_a_URL">URL介绍</a></p>
<p>也就是说装饰器的参数设置成什么就会匹配什么资源路径（Path to resource)<br>@app.route(‘&#x2F;hello’)<br>访问<a target="_blank" rel="noopener" href="http://127.0.0.1:5000/hello,%E7%94%B1%E4%BA%8E%E8%AF%A5%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80URL%E5%8C%B9%E9%85%8D'/hello'%EF%BC%8C%E6%89%80%E4%BB%A5%E5%B0%86%E8%A2%AB%E5%A4%84%E7%90%86%E3%80%82">http://127.0.0.1:5000/hello,由于该访问地址URL匹配&#39;/hello&#39;，所以将被处理。</a></p>
<blockquote>
<p>动态控制路由（重定向）<br>通过redirect()函数即可动态控制路由。<br>return redirect(url_for(‘login’))</p>
</blockquote>
<blockquote>
<p>URL参数<br>有时候，我们希望接受URL上附带的参数，此时可以通过在装饰器上添加<xxx>格式的内容，来对应URL传递的参数</p>
</blockquote>
<h4 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h4><p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/python-func-decorators.html">Python 函数装饰器</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/87353829">python 装饰器详解</a></p>
<p>装饰器就是在一个函数里嵌套一个或者多个函数，在这些函数里使用了顶层函数的参数（不管是参数是值还是函数），然后构造出来一个装饰器，在调用时对其他值或者函数用装饰器，最终输出时参数的值被装载了装饰器的函数或值替换（赋值）。</p>
<p>python装饰器总结一句话：采用了闭包的思路(内外函数嵌套，内函数引用外函数作用域下的非全局变量，外函数返回内函数的引用)，在不改变原函数代码的前提下为函数增添新的功能</p>
<p>@wraps(func)  # 继承原函数，调用时不改变函数原含义</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def a_new_decorator(a_func):</span><br><span class="line"> </span><br><span class="line">    def wrapTheFunction():</span><br><span class="line">        print(&quot;I am doing some boring work before executing a_func()&quot;)</span><br><span class="line"> </span><br><span class="line">        a_func()</span><br><span class="line"> </span><br><span class="line">        print(&quot;I am doing some boring work after executing a_func()&quot;)</span><br><span class="line"> </span><br><span class="line">    return wrapTheFunction</span><br><span class="line"> </span><br><span class="line">def a_function_requiring_decoration():</span><br><span class="line">    print(&quot;I am the function which needs some decoration to remove my foul smell&quot;)</span><br><span class="line"> </span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line">#outputs: &quot;I am the function which needs some decoration to remove my foul smell&quot;</span><br><span class="line"> </span><br><span class="line">a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)</span><br><span class="line">#now a_function_requiring_decoration is wrapped by wrapTheFunction()</span><br><span class="line"> </span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line">#outputs:I am doing some boring work before executing a_func()</span><br><span class="line">#        I am the function which needs some decoration to remove my foul smell</span><br><span class="line">#        I am doing some boring work after executing a_func()</span><br></pre></td></tr></table></figure>
<p>print(a_function_requiring_decoration.<strong>name</strong>)</p>
<blockquote>
<p>Output: wrapTheFunction<br>使用装饰器会导致调用函数的名称被覆盖成装饰器的内层函数,这里用functools.wraps装饰内层函数就可以解决这个问题</p>
</blockquote>
<h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def __init__(self, host, user, password, db, charset):</span><br><span class="line">    self.host = host</span><br><span class="line">    self.user = user</span><br><span class="line">    self.password = password</span><br><span class="line">    self.db = db</span><br><span class="line">    self.charset = charset</span><br><span class="line">    self.conn = pymysql.connect(host = host, user = user, password = password, db = db, charset = charset) //连接MySQL数据库</span><br><span class="line">    self.cur = self.conn.cursor() //游标</span><br></pre></td></tr></table></figure>
<h4 id="WTF表单"><a href="#WTF表单" class="headerlink" title="WTF表单"></a>WTF表单</h4><table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
<th>对应的HTML表示</th>
</tr>
</thead>
<tbody><tr>
<td>StringField</td>
<td>文本字段</td>
<td><input type="text"></td>
</tr>
<tr>
<td>TextAreaField</td>
<td>多行文本字段</td>
<td><textarea></textarea></td>
</tr>
<tr>
<td>PasswordField</td>
<td>密码文本字段</td>
<td><input type="password"></td>
</tr>
<tr>
<td>HiddenField</td>
<td>隐藏文本字段</td>
<td><input type="hidden"></td>
</tr>
<tr>
<td>DateField</td>
<td>文本字段，值为datetime.date格式</td>
<td><input type="text"></td>
</tr>
<tr>
<td>DateTimeField</td>
<td>文本字段，值为datetime.datetime格式</td>
<td><input type="text"></td>
</tr>
<tr>
<td>IntegerField</td>
<td>文本字段，值为整数</td>
<td><input type="number"></td>
</tr>
<tr>
<td>DecimalField</td>
<td>文本字段，值为decimal.Decimal</td>
<td><input type="number"></td>
</tr>
<tr>
<td>FloatField</td>
<td>文本字段，值为浮点数</td>
<td><input type="number"></td>
</tr>
<tr>
<td>BooleanField</td>
<td>复选框，值为True和False</td>
<td><input type="checkbox"></td>
</tr>
<tr>
<td>RadioField</td>
<td>一组单选框</td>
<td><input type="radio"></td>
</tr>
<tr>
<td>SelectField</td>
<td>下拉列表</td>
<td><select><option>…</option></select></td>
</tr>
<tr>
<td>SelectMultipleField</td>
<td>下拉列表，可选择多个值</td>
<td><select multiple><option>…</option></select></td>
</tr>
<tr>
<td>FileField</td>
<td>文件上传字段</td>
<td><input type="file"></td>
</tr>
<tr>
<td>SubmitField</td>
<td>表单提交按钮</td>
<td><input type="submit"></td>
</tr>
<tr>
<td>FormField</td>
<td>把表单作为字段嵌入另一个表单</td>
<td></td>
</tr>
<tr>
<td>FieldList</td>
<td>一组指定类型的字段</td>
<td></td>
</tr>
</tbody></table>
<h4 id="WTF表单验证"><a href="#WTF表单验证" class="headerlink" title="WTF表单验证"></a>WTF表单验证</h4><table>
<thead>
<tr>
<th>验证器</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>DataRequired</td>
<td>确保字段中有数据</td>
</tr>
<tr>
<td>Email</td>
<td>验证电子邮件地址</td>
</tr>
<tr>
<td>EqualTo</td>
<td>比较两个字段的值；常用于要求输入两次密码进行确认的情况</td>
</tr>
<tr>
<td>InputRequired</td>
<td>确保字段中有数据</td>
</tr>
<tr>
<td>IPAddress</td>
<td>验证IPv4网络地址</td>
</tr>
<tr>
<td>Length</td>
<td>验证输入字符串的长度在数字范围内</td>
</tr>
<tr>
<td>NumberRange</td>
<td>验证输入的值在数字范围内</td>
</tr>
<tr>
<td>Optional</td>
<td>无输入值时跳过其他验证函数</td>
</tr>
<tr>
<td>Required</td>
<td>确保字段中有数据</td>
</tr>
<tr>
<td>Regexp</td>
<td>使用正则表达式验证输入值</td>
</tr>
<tr>
<td>URL</td>
<td>验证URL</td>
</tr>
<tr>
<td>AnyOf</td>
<td>确保输入值在可选值列表中</td>
</tr>
<tr>
<td>NoneOf</td>
<td>确保输入值不在可选值列表中</td>
</tr>
</tbody></table>
<h4 id="实例化字段类常用参数"><a href="#实例化字段类常用参数" class="headerlink" title="实例化字段类常用参数"></a>实例化字段类常用参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>label</td>
<td>标签</td>
</tr>
<tr>
<td>validators</td>
<td>验证器</td>
</tr>
<tr>
<td>render_kw</td>
<td>渲染控件的属性，一个字典，用来设置对应的HTML<input>标签的属性</td>
</tr>
<tr>
<td>default</td>
<td>默认值</td>
</tr>
<tr>
<td>filters</td>
<td>过滤器</td>
</tr>
<tr>
<td>description</td>
<td>描述信息</td>
</tr>
<tr>
<td>widget</td>
<td>渲染控件</td>
</tr>
</tbody></table>
<h4 id="WTF表单安全"><a href="#WTF表单安全" class="headerlink" title="WTF表单安全"></a>WTF表单安全</h4><p>Flask-WTF内置了CSRF保护，可以抵御跨站请求伪造攻击。</p>
<blockquote>
<h1 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h1><p>跨站请求伪造（CSRF）是一种冒充受信任用户，向服务器发送非预期请求的攻击方式。例如，这些非预期请求可能是通过在跳转链接后的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/URL">URL</a> 中加入恶意参数来完成：</p>
</blockquote>
<p>表单中包含一个隐藏字段csrf_token，用来存放CSRF令牌，这个令牌是一个加密字符串，Flask-WTF使用这个令牌验证请求中表单数据的真伪。<br>默认情况下，使用程序密钥来CSRF令牌进行签名：</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.secret_key = &quot;secret string&quot;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/CSRF">CSRF</a></p>
<h4 id="处理表单数据"><a href="#处理表单数据" class="headerlink" title="处理表单数据"></a>处理表单数据</h4><ol>
<li>解析请求，获取表单数据</li>
<li>对数据进行必要的转换，比如将勾选框的值转换成Python的布尔值</li>
<li>对数据进行验证，确保数据要求，同时验证CSRF令牌</li>
<li>如果验证未通过则需要生成错误信息，并在模板中渲染表单显示错误信息，让用户可以修正</li>
<li>如果通过验证，则将数据保存到数据库中，或者执行其他操作</li>
</ol>
<h5 id="提交表单"><a href="#提交表单" class="headerlink" title="提交表单"></a>提交表单</h5><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>action</td>
<td>当前URL，即页面对应的URL</td>
<td>表单提交时发送请求的目标URL</td>
</tr>
<tr>
<td>method</td>
<td>GET</td>
<td>表单提交时使用的HTTP方法</td>
</tr>
<tr>
<td>enctype</td>
<td>application&#x2F;x-www-form-urlencoded</td>
<td>请求的数据编码方式</td>
</tr>
<tr>
<td>autocomplete</td>
<td>on</td>
<td>浏览器是否可以自动完成表单</td>
</tr>
</tbody></table>
<h5 id="验证表单数据"><a href="#验证表单数据" class="headerlink" title="验证表单数据"></a>验证表单数据</h5><p>客户端验证：在浏览器中使用JavaScript验证表单数据，可以提高用户体验，但是不可靠，因为用户可以禁用JavaScript。<br>服务器端验证：在服务器端验证表单数据，可以确保数据符合要求，但是会增加服务器的负载。<br>使用POST方法提交的表单，其数据会被Flask解析为一个字典，可以通过request.form来访问这个字典。<br>使用GET方法提交的表单，其数据会被Flask解析为一个不可变的MultiDict，可以通过request.args来访问这个字典。</p>
<p>tools.py</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def create_all(self):</span><br><span class="line">    with open(&#x27;bike.sql&#x27;, &#x27;r&#x27;, encoding = &#x27;utf-8&#x27;) as init_file:</span><br><span class="line">          text = init_file.read()</span><br><span class="line">          lines = text.split(&#x27;----&#x27;)</span><br><span class="line">          for line in lines:</span><br><span class="line">              self.cur.execute(line)</span><br><span class="line">              if &#x27;insert&#x27; in line or &#x27;update&#x27; in line or &#x27;delete&#x27; in line:</span><br><span class="line">                  self.conn.commit()</span><br></pre></td></tr></table></figure>
<p>bike.sql<br>– 为了自动读取本文件并初始化, 需要在每条语句后加 —-<br>– 但注意最后一句不要加 —-</p>
<h3 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h3><blockquote>
<p>为什么需要使用自己的配置？<br>假设你在做一个博客，有十个视图函数都定义了每页显示的文章数。当你写好以后，发现每页的文章太多，想把这个值改小一点，这时你要找到这十个视图函数，分别修改这个值，很蠢吧？使用配置你就使用一行控制所有的变量：<br><code>app.config[&#39;POST_PER_PAGE&#39;] = 12</code></p>
</blockquote>
<p><strong>设置配置</strong></p>
<ul>
<li>直接写出配置的值，像上面那样。</li>
<li>对于不适合写在程序里的配置，比如密码等，需要把配置写入系统环境变量，然后使用os模块的getenv()方法获取，第二个参数作为默认值<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[&#x27;MAIL_USERNAME&#x27;] = os.getenv(&#x27;MAIL_USERNAME&#x27;, &#x27;me@greyli.com&#x27;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果使用虚拟环境，设置环境变量时注意要激活虚拟环境，同时不要给变量值加引号。<br><code>set MAIL_USERNAME=me@greyli.com  # 结果是&#39;me@greyli.com&#39;</code><br><code>set MAIL_USERNAME=&#39;me@greyli.com&#39;  # 结果是&quot;&#39;me@greyli.com&#39;&quot;</code><br><strong>处理配置</strong></p>
</blockquote>
</li>
<li>直接写入主脚本</li>
<li>单独的配置文件<ul>
<li>通过Json文件，app.config.from_json<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;FLASK_ENV&quot;:&quot;json&quot;</span><br><span class="line">  &quot;SECRET_KEY&quot;:&quot;some secret words&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>通过 python文件,app.config.from_object 或 app.config.from_pyfile<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SECRET_KEY = &#x27;some secret words&#x27;</span><br><span class="line">DEBUG = True</span><br><span class="line">ITEMS_PER_PAGE = 10</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>创建不同的配置类<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/24055329">Flask项目配置（Configuration）</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/koin_/article/details/118603850">Flask项目配置</a></li>
</ul>
<h4 id="app-secret-key、cookie、session"><a href="#app-secret-key、cookie、session" class="headerlink" title="app.secret_key、cookie、session"></a>app.secret_key、cookie、session</h4><p><a target="_blank" rel="noopener" href="https://qastack.cn/programming/22463939/demystify-flask-app-secret-key">解密Flask app.secret_key</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80832251">会话技术、Cookies、Session详解</a><br>程序可以把数据存储在用户会话中，用户会话是-种私有存储，默认情况下，它会保存在客户端cookie中。Flask提供了session对象来操作用户会话。session 是基于cookie实现， 保存在服务端的键值对（形式为 {随机字符串：‘xxxxxx’}）, 同时在浏览器中的cookie中也对应一相同的随机字符串，用来再次请求的时候验证</p>
<p>Flask中的session是存在浏览器中 默认key是session(加密的cookie)，使用session时要设置一个密钥app. secret_ key</p>
<h3 id="Flask-API"><a href="#Flask-API" class="headerlink" title="Flask API"></a>Flask API</h3><h4 id="flash函数-闪现信息"><a href="#flash函数-闪现信息" class="headerlink" title="flash函数 - 闪现信息"></a>flash函数 - 闪现信息</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/he93007/article/details/78760091?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8=">flask-flash函数</a><br>闪现信息就是 只展示一次的数据&#x2F;参数.</p>
<p>应用:</p>
<p>比如进入首页只刷一次的广告.</p>
<h4 id="render-template和redirect函数及其区别"><a href="#render-template和redirect函数及其区别" class="headerlink" title="render_template和redirect函数及其区别"></a>render_template和redirect函数及其区别</h4><p><a target="_blank" rel="noopener" href="https://geek-docs.com/flask/flask-questions/193_flask_difference_between_render_template_and_redirect.html">Flask render_template和redirect的区别</a><br><strong>render_template函数</strong><br>render_template函数是Flask框架中的一个重要函数，其主要作用是将指定的模板文件渲染成HTML页面并返回给客户端。该函数通常用于将动态数据与静态的HTML模板结合，实现页面的动态展示。<br><strong>redirect函数</strong><br>redirect函数是Flask框架中的另一个重要函数，其主要作用是将用户重定向到指定的URL。当我们在处理某些请求时，希望将用户重定向到另一个URL时，可以使用redirect函数实现这个功能。<br><strong>区别</strong></p>
<ul>
<li>render_template函数用于渲染模板，返回HTML页面；redirect函数用于重定向，将用户跳转到另一个URL；</li>
<li>render_template函数常用于页面展示，并且需要与路由函数配合使用；redirect函数常用于重定向到其他页面或执行其他操作；</li>
<li>render_template函数返回的是生成的HTML页面代码；redirect函数返回的是一个新的URL，用户的浏览器将会跳转到该URL。</li>
</ul>
<h4 id="Jinja2-模板继承"><a href="#Jinja2-模板继承" class="headerlink" title="Jinja2 模板继承"></a>Jinja2 模板继承</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/welan/p/9473625.html">模板继承</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/142657948">Python web 框架 Flask 模板使用</a><br>Django 使用了“模板继承”的概念：这就是<code>&#123;% extends "base.html" %&#125;</code>所做的事。它意味着 “首先载入名为 ‘base’ 的模板中的内容到当前模板，然后再处理本模板中的其余内容。”总之，模板继承让你在模板间大大减少冗余内容：每一个模板只需要定义它独特的部分即可。</p>
<p>将模板转换为完整的HTML页面的操作称为渲染。 为了渲染模板，需要从Flask框架中导入一个名为render_template()的函数。 该函数需要传入模板文件名和模板参数的变量列表，并返回模板中所有占位符都用实际变量值替换后的字符串结果。</p>
<p>render_template()函数调用Flask框架原生依赖的Jinja2模板引擎。 Jinja2用render_template()函数传入的参数中的相应值替换<code>&#123;&#123;...&#125;&#125;</code>块。</p>
<p>模板也支持在&#96;</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="true"
        data-ae="false"
        data-ci="bf8247f1f66a43abd91f"
        data-cs="8151e71fe008a0f849031b72d321c20af8e897af"
        data-r="h1s97x.github.io"
        data-o="h1s97x"
        data-a="h1s97x"
        data-d="true"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>
<script src="/js/codeCopy.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
