
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>网络攻防实验 - Hexo</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="网络扫描12345678telnet 127.0.0.1 7连接本机7号端口netstat -na | more查看本机提供的服务ls /bin /usr/bin |wclinux 命令查看

te,"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/diaspora.css">
<link rel="stylesheet" href="/css/site.css">


    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="网络攻防实验 - Hexo"/>
    <meta name="twitter:description" content="网络扫描12345678telnet 127.0.0.1 7连接本机7号端口netstat -na | more查看本机提供的服务ls /bin /usr/bin |wclinux 命令查看

te,"/>
    
    
    
    
    <meta property="og:site_name" content="Hexo"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="网络攻防实验 - Hexo"/>
    <meta property="og:description" content="网络扫描12345678telnet 127.0.0.1 7连接本机7号端口netstat -na | more查看本机提供的服务ls /bin /usr/bin |wclinux 命令查看

te,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

    <script>window.searchDbPath = "/search.xml";</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">

    <!-- 代码块复制 -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard@latest/dist/clipboard.js"></script>

    <!-- 点击效果 -->
    
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/gh/5MayRain/5MayRain.github.io@latest/js/fireworks.js"></script>
    

    <!-- live2d -->
    <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Hexo</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">网络攻防实验</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <!-- 帖子视图 -->

    <div class="post_cover" >
        
            <img src="/img/img1.jpg,/img/welcome-cover.jpg" />
        
        <div class="post_cover_mask"></div>
        <div class="post_text">
            <h1>网络攻防实验</h1>
            <div>
                <span>十月 18, 2023</span>

                

            </div>
        </div>
    </div>


<div class="article">
    <div class='main'>
        <!-- 帖子视图 -->
        

        <!-- 更新时间 -->
        <div class="updated">
            <div></div>
            <span>该文章更新于 2023.10.18</span>
        </div>

        <h1 class="title">网络攻防实验</h1>
        <div class="stuff">
            <span>十月 18, 2023</span>
            

        </div>
        <div class="content markdown">
            <h3 id="网络扫描"><a href="#网络扫描" class="headerlink" title="网络扫描"></a>网络扫描</h3><figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">telnet 127.0.0.1 7</span><br><span class="line">连接本机7号端口</span><br><span class="line">netstat -na | more</span><br><span class="line">查看本机提供的服务</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ls /bin /usr/bin |wc</span><br><span class="line">linux 命令查看</span><br></pre></td></tr></table></figure>

<p>telnet service:</p>
<p>控制面板——程序——启动或关闭windows功能——勾上telnet client</p>
<p>简单TCP&#x2F;IP service：</p>
<p>控制面板——程序——启动或关闭windows功能——勾上 simple TCP&#x2F;IP service</p>
<p> (1)Echo<br>   RFC862 端口 7<br>   回显在该服务器端口上接收到的任何消息中的数据。<br>   作为网络调试和监视工具可能非常有用。<br> (2)Discard<br>   RFC863 端口 9<br>   放弃该端口上接收到的所有消息，而不响应或确认。<br>   在网络设置和配置过程中，可以用作空端口来接收和路由 TCP&#x2F;IP 测试消息，或者在某些情况下，程序可将其用作为消息放弃函数。<br> (3)Character Generator<br>   RFC864 端口 19<br>   所发送数据包含一组 95 个可打印的 ASCII 字符。<br>   作为测试或解决行打印机问题的调试工具非常有用。<br> (4)Quote of the Day<br>   RFC865 端口 17<br>   在消息中以一行或多行文本的形式返回报价。<br>   报价从以下文件中随机提取：%SYSTEMROOT%\System32\Drivers\Etc\Quotes。<br>   示例报价文件会与简单的 TCP&#x2F;IP 服务一起安装。如果该文件丢失，则报价服务会失败。<br> (5)Daytime<br>   RFC867 端口 13<br>   返回包含星期几、月、天、年、当前时间（以 hh:mm:ss 格式表示）和时区信息的消息。<br>   某些程序可能会将该服务的输出用于调试或监视系统时钟时间中或不同主机上的变化。</p>
<p><strong>ntop</strong>服务</p>
<p>nmap script 漏洞 heartbleed </p>
<p>TCP keep-alive 删除死连接</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2104021">心脏出血（Heartbleed）漏洞浅析、复现-腾讯云开发者社区-腾讯云 (tencent.com)</a> </p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">telnet 211.87.227.229 4433    </span><br><span class="line">git服务器</span><br><span class="line">127.28.11.31</span><br><span class="line">靶机服务器</span><br></pre></td></tr></table></figure>



<h2 id="FAKE-WIFI实验"><a href="#FAKE-WIFI实验" class="headerlink" title="FAKE-WIFI实验"></a>FAKE-WIFI实验</h2><p>无线网卡还在路上~</p>
<p>2023.10.23 更新<br>1.1. 建立wifi热点<br>使用一个usb无线网卡，可以建立一个WIFI热点。</p>
<p>安装驱动：<a target="_blank" rel="noopener" href="https://wkqd.lanzouu.com/s/wkqd">https://wkqd.lanzouu.com/s/wkqd</a></p>
<blockquote>
<p>目前状况：第一步就卡住了，网卡不支持承载网络。</p>
<p>看了几个贴子，给出的方法包括但不限于：1.更新驱动。2.开启“移动热点”功能，新的网卡驱动不再支持使用托管网络，而这也是许多教程要求使用旧版本驱动的原因。3.[在 Windows 中设置无线网络 - Microsoft 支持](<a target="_blank" rel="noopener" href="https://support.microsoft.com/zh-cn/windows/%E5%9C%A8-windows-%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C-97914e31-3aa4-406d-cef6-f1629e2c3721#:~:text=%E5%9C%A8Windows">https://support.microsoft.com/zh-cn/windows/在-windows-中设置无线网络-97914e31-3aa4-406d-cef6-f1629e2c3721#:~:text=在Windows</a> 10 中 ，选择 “开始”，然后选择”设置&gt; Internet %26”&gt;”状态&gt;”网络和共享中心”。,在Windows 11 中，选择”开始”，键入”控制面板”，然后选择”控制面板”&gt;”网络和 Internet&gt;”网络和共享中心”。 选择“设置新的连接或网络”。 选择“设置新网络”，然后选择“下一步”。 该向导将指导你创建网络名称和安全密钥。)</p>
<p>未能解决问题，可能是网卡本身就不支持，白折腾半天，问商家也不回消息，踩坑(T_T)</p>
</blockquote>
<p>Windows&#x2F;CMD中，配合两行命令(管理员权限)：<br>netsh wlan set hostednetwork mode&#x3D;allow<br>netsh wlan set hostednetwork mode&#x3D;allow ssid&#x3D;fake1 key&#x3D;12345678<br>netsh wlan start hostednetwork<br>如此设置后，手机即可通过该热点“fake1”上网了。<br>其他有用的命令：<br>netsh wlan stop hostednetwork  # 停止<br>NETSH WLAN show drivers  #显示参数等</p>
<p><img src="/img/Network-attack/fake-wifi-1.png"></p>
<p>1.2. 加入dns欺骗</p>
<h2 id="课程项目1：网络攻防安全扫描集成平台"><a href="#课程项目1：网络攻防安全扫描集成平台" class="headerlink" title="课程项目1：网络攻防安全扫描集成平台"></a>课程项目1：网络攻防安全扫描集成平台</h2><h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.   介绍"></a>1.   介绍</h3><p>进行网络安全扫描，和对文件系统进行杀毒扫描一样，杀毒扫描需要病毒特征库，网络安全扫描需要漏洞攻击库，而且这些库都在各自更新，除了可以自由使用的版本，有的还有昂贵的商业版本。因此，仅用一款扫描工具是不够的，要尽量多找不同的工具、使用不同来源的漏洞攻击库。因此，需要建立一个综合各种扫描工具、支持多种漏洞攻击库的集成系统，服务于生产，也可以服务教学需求。</p>
<h3 id="2-扫描工具"><a href="#2-扫描工具" class="headerlink" title="2.   扫描工具"></a>2.   扫描工具</h3><p>根据不同的目的、功能、用途，网络安全方面的扫描器可以分为很多种。</p>
<p>下面是几款漏洞扫描软件的介绍、试用以及实测结果，包括nmap、nessus、Metasploit、OpenVAS、W3AF等。</p>
<h4 id="I-Nmap-org"><a href="#I-Nmap-org" class="headerlink" title="I. Nmap.org"></a>I. <a target="_blank" rel="noopener" href="https://nmap.org/">Nmap.org</a></h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46588765/article/details/107417808">nmap扫描与tcpdump抓包工具_nmap是抓包工具的吗-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43510203/article/details/107596158">Nmap端口扫描+Nmap脚本扫描漏洞（学习笔记）_nmap漏洞扫描分析脚本文件-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/rtnb/p/15595210.html">tcpdump抓包与nmap扫描 - 不会跳舞的胖子 - 博客园 (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/day0713/article/details/123171655">网络攻防技术——端口扫描_2)对本机(关闭防火墙)的开放端口和非开放端口完成半连接、ack、fin、null、xmas、_啦啦啦啦啦啦啦噜噜的博客-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_51459513/article/details/117263932">网络攻防之网络扫描_unicornscan_程序猿cxy的博客-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/smli_ng/article/details/105964486">nmap详细参数 -CSDN博客</a></p>
<p>Nmap是开放开源的，比较小巧，用法简单而直接，尤其适合对大IP范围内的主机进行初步扫描以确定重点攻击目标，因此是入侵者最常用的前期预扫描工具。<a target="_blank" rel="noopener" href="http://nmap.org/">http://nmap.org/</a> </p>
<p>端口扫描是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Nmap&spm=1001.2101.3001.7020">Nmap</a>最基本最核心的功能，用于确定目标主机的TCP&#x2F;UDP端口的开放情况。 默认情况下，Nmap会扫描<strong>1000</strong>个最有可能开放的TCP端口。</p>
<p>利用nmap能测试和发现：</p>
<ul>
<li>目标主机（IP）是否开机，安装了什么操作系统，有哪些端口开着，是什么服务，哪种服务程序，什么版本；</li>
<li>能规避防火墙的防护规则，能根据脚本自动、批量的扫描有哪些漏洞；</li>
</ul>
<p>Nmap具体功能：端口扫描，协议扫描，漏洞扫描，绕过防护，漏洞利用等。</p>
<h5 id="nmap测试"><a href="#nmap测试" class="headerlink" title="nmap测试"></a>nmap测试</h5><p>nmap的基本用法:</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap 【扫描类型】 【选项】 【扫描目标…】</span><br></pre></td></tr></table></figure>

<p>常用的扫描类型：</p>
<ul>
<li>-sS ：TCP，SYN扫描(半开) 半开扫描意思就是，客户端向服务器请求连接，当服务器给与回应时，客户端又不响应服务器。这就是典型的DDOS攻击</li>
<li>-sT ： TCP连接扫描(全开) 全开扫描表示执行完三次握手</li>
<li>-sU ： UDP扫描</li>
<li>-sP： ICMP扫描</li>
<li>-A ：目标系统全面分析</li>
</ul>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 默认TCP扫描</span><br><span class="line">$ nmap 10.27.214.21</span><br><span class="line">Starting Nmap 7.94 ( https://nmap.org ) at 2023-10-18 11:52 EDT</span><br><span class="line">Nmap scan report for 10.27.214.21</span><br><span class="line">Host is up (0.0096s latency).</span><br><span class="line">Not shown: 993 filtered tcp ports (no-response)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">25/tcp   open  smtp</span><br><span class="line">110/tcp  open  pop3</span><br><span class="line">135/tcp  open  msrpc</span><br><span class="line">139/tcp  open  netbios-ssn</span><br><span class="line">445/tcp  open  microsoft-ds</span><br><span class="line">912/tcp  open  apex-mesh</span><br><span class="line">3306/tcp open  mysql</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#扫描本机开了什么端口，默认TCP扫描</span><br><span class="line">$ nmap 127.0.0.1   </span><br><span class="line">Starting Nmap 7.94 ( https://nmap.org ) at 2023-10-18 12:03 EDT</span><br><span class="line">Nmap scan report for localhost (127.0.0.1)</span><br><span class="line">Host is up (0.000025s latency).</span><br><span class="line">All 1000 scanned ports on localhost (127.0.0.1) are in ignored states.</span><br><span class="line">Not shown: 1000 closed tcp ports (reset)                     </span><br></pre></td></tr></table></figure>

<ul>
<li><p><input disabled="" type="checkbox"> 
为什么扫描结果不一致？</p>
</li>
<li><p><input disabled="" type="checkbox"> 
ipconfig的结果</p>
</li>
<li><p><input disabled="" type="checkbox"> 
eth0</p>
</li>
</ul>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">**抓取指定协议的数据包**</span><br><span class="line">#另外打开一个虚拟机ping host50主机</span><br><span class="line">$ ping -c 1 192.168.4.50</span><br><span class="line">PING 192.168.4.50 (192.168.4.50) 56(84) bytes of data.</span><br><span class="line"> </span><br><span class="line">--- 192.168.4.50 ping statistics ---</span><br><span class="line">1 packets transmitted, 0 received, 100% packet loss, time 0ms</span><br><span class="line"></span><br><span class="line">#这时host 50主机就可以抓到相应的ping包</span><br><span class="line">#抓取经过eth0上的数据包</span><br><span class="line">$ tcpdump  -i eth0 icmp</span><br><span class="line">tcpdump: verbose output suppressed, use -v[v]... for full protocol decode</span><br><span class="line">listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">12:13:19.839665 IP 192.168.122.129 &gt; 192.168.4.50: ICMP echo request, id 53883, seq 1, length 64</span><br><span class="line"></span><br><span class="line">#node2为源地址，host50为目标地址</span><br><span class="line">IP [host50] &gt; [node2]: ICMP echo [request], id [7227], seq [1], length [64]</span><br></pre></td></tr></table></figure>



<p><img src="/img/Network-attack/tcpdump-use-1.png"></p>
<p>Nmap端口扫描<br>端口状态：</p>
<p>1、Open：端口开启，有程序监听此端口</p>
<p>2、Closed：端口关闭，数据能到达主机，但是没有程序监听此端口</p>
<p>3、Filtered：数据未能到达主机</p>
<p>4、Unfiltered：数据能到达主机，但是Nmap无法判断端口开启还是关闭</p>
<p>5、Open | filtered：端口没返回值，主要出现在UDP，IP，FIN，NULL和Xmas扫描</p>
<p>6、Closed | filtered：只出现在IP ID idle 扫描</p>
<p>单个扫描：nmap xxx.xxx.xxx.xxx</p>
<p>多个扫描：nmap 192.168.1.1 192.168.1.2</p>
<p>网段扫描：nmap 192.168.2.1-192.168.2.100</p>
<p>导入扫描：nmap -iL [LIST.TXT]</p>
<p><strong>nmap的扫描脚本</strong></p>
<p>nmap提供了大量不同种类的脚本，方便不同的用途。按照不同的主题分类主要有：</p>
<p>  auth: 负责处理鉴权证书（绕开鉴权）的脚本<br>  broadcast: 在局域网内探查更多服务开启状况，如dhcp&#x2F;dns&#x2F;sqlserver等服务<br>  brute: 提供暴力破解方式，针对常见的应用如http&#x2F;snmp等<br>  default:  使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力<br>  discovery: 对网络进行更多的信息，如SMB枚举、SNMP查询等<br>  dos: 用于进行拒绝服务攻击<br>  exploit: 利用已知的漏洞入侵系统<br>  external: 利用第三方的数据库或资源，例如进行whois解析<br>  fuzzer: 模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞<br>  intrusive: 入侵性的脚本，此类脚本可能引发对方的IDS&#x2F;IPS的记录或屏蔽<br>  malware: 探测目标机是否感染了病毒、开启了后门等信息<br>  safe: 此类与intrusive相反，属于安全性脚本<br>  version: 负责增强服务与版本扫描（Version Detection）功能的脚本<br>  vuln: 负责检查目标机是否有常见的漏洞（Vulnerability），如是否有MS08_067  </p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#默认脚本扫描，主要搜索各种应用服务的信息，收集后，可再针对具体服务进行攻击</span><br><span class="line">nmap --script=default 192.168.88.131</span><br><span class="line"></span><br><span class="line">#检查是否存在常见漏洞</span><br><span class="line">nmap --script=vuln 192.168.1.104</span><br><span class="line"></span><br><span class="line">#提供暴力破解的方式，可对数据库、smb、snmp等进行简单密码的暴力猜解</span><br><span class="line">nmap --script=brute 192.168.88.131</span><br><span class="line"></span><br><span class="line">#利用FTP指定脚本对目标特定FTP协议进行密码爆破</span><br><span class="line">nmap --script=ftp-brute.nse 192.168.88.131</span><br><span class="line"></span><br><span class="line">#利用第三方的数据库或资源，例如进行whoise解析</span><br><span class="line">nmap --script=external 192.168.88.131</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="nmap脚本"><a href="#nmap脚本" class="headerlink" title="nmap脚本"></a>nmap脚本</h5><figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cat ping.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">yum -y install nmap &gt; /dev/null</span><br><span class="line">read -p &quot;输入整个网段例如104.233.105.0/24：&quot; ip</span><br><span class="line">nmap -n -sP $ip  &gt; /root/ping.test  	# -n表示不做主机名解析</span><br><span class="line">num=$(cat /root/ping.test | tail -1 | awk &#x27;&#123;print $3&#125;&#x27;)</span><br><span class="line">setup=$(cat /root/ping.test | tail -1 | awk &#x27;&#123;print $6&#125;&#x27;)</span><br><span class="line">echo &quot;扫描到$num个IP&quot;</span><br><span class="line">echo &quot;有$setup个可以通信&quot;</span><br><span class="line">rm -rf /root/ping.test</span><br></pre></td></tr></table></figure>

<h5 id="其他指令"><a href="#其他指令" class="headerlink" title="其他指令"></a>其他指令</h5><p><strong>ipconfig</strong> </p>
<blockquote>
<p>ipconfig &#x2F;all：显示本机TCP&#x2F;IP配置的详细信息；<br>ipconfig &#x2F;release：DHCP客户端手工释放IP地址；<br>ipconfig &#x2F;renew：DHCP客户端手工向服务器刷新请求；<br>ipconfig &#x2F;flushdns：清除本地DNS缓存内容；<br>ipconfig &#x2F;displaydns：显示本地DNS内容；<br>ipconfig &#x2F;registerdns：DNS客户端手工向服务器进行注册；<br>ipconfig &#x2F;showclassid：显示网络适配器的DHCP类别信息；<br>ipconfig &#x2F;setclassid：设置网络适配器的DHCP类别。<br>ipconfig &#x2F;renew “Local Area Connection”：更新“本地连接”适配器的由 DHCP 分配 IP 地址的配置<br>ipconfig &#x2F;showclassid Local*：显示名称以 Local 开头的所有适配器的 DHCP 类别 ID<br>ipconfig &#x2F;setclassid “Local Area Connection” TEST：将“本地连接”适配器的 DHCP 类别 ID 设置为 TEST</p>
</blockquote>
<figure class="highlight bash"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#显示所有当前的 TCP/IP 网络配置值，并刷新动态主机配置协议 (DHCP) 和域名系统 (DNS) 设置。 在没有参数的情况下使用时，ipconfig 会显示 Internet 协议版本 4 (IPv4) 和 IPv6 地址、子网掩码以及所有适配器的默认网关。</span></span><br><span class="line">&gt; ipconfig </span><br><span class="line">无线局域网适配器 WLAN:</span><br><span class="line"></span><br><span class="line">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class="line">   本地链接 IPv6 地址. . . . . . . . : fe80::8aa0:535b:4042:fe90%8</span><br><span class="line">   IPv4 地址 . . . . . . . . . . . . : 10.27.214.21</span><br><span class="line">   子网掩码  . . . . . . . . . . . . : 255.255.192.0</span><br><span class="line">   默认网关. . . . . . . . . . . . . : 10.27.255.254</span><br></pre></td></tr></table></figure>



<p><strong>tcpdump</strong></p>
<p><strong>语法：</strong></p>
<figure class="highlight text"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tcpdump [ -AdDefIJKlLnNOpqRStuUvxX ] [ -B buffer_size ] [ -c count ]</span><br><span class="line">               [ -C file_size ] [ -G rotate_seconds ] [ -F file ]</span><br><span class="line">               [ -i interface ] [ -j tstamp_type ] [ -m module ] [ -M secret ]</span><br><span class="line">               [ -Q|-P in|out|inout ]</span><br><span class="line">               [ -r file ] [ -s snaplen ] [ -T type ] [ -w file ]</span><br><span class="line">               [ -W filecount ]</span><br><span class="line">               [ -E spi@ipaddr algo:secret,...  ]</span><br><span class="line">               [ -y datalinktype ] [ -z postrotate-command ] [ -Z user ]</span><br><span class="line">               [ expression ]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明：</strong></p>
<p>-c 在收到指定的数量的分组后，tcpdump就会停止<br>-i 指定监听的网络接口<br>-r 从指定的文件中读取包(这些包一般通过-w选项产生)。<br>-w 直接将分组写入文件中，而不是不分析并打印出来。</p>
<p><strong>过滤条件：</strong><br>类型：host、net、port、portange<br>方向：src、dst<br>协议：tcp、dup、ip、wlan、arp…<br>多条件组合：and、or、not…</p>
<p><strong>示例：</strong></p>
<figure class="highlight text"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 无参数：抓取所有网络包，并在`terminal`中显示抓取的结果，将包以十六进制的形式显示。</span><br><span class="line">tcpdump</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 抓取所有的经过`eth0`网卡的网络包</span><br><span class="line">tcpdump -i eth0 </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 想要截获所有192.168.1.100的主机收到的和发出的所有的数据包：</span><br><span class="line">tcpdump host 192.168.1.100</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 抓取经过 eth0 网卡的源 ip 是 192.168.1.100 数据包，src参数表示源。</span><br><span class="line">tcpdump -i eth0 -vnn src host 192.168.1.100</span><br><span class="line"></span><br><span class="line"># 抓取经过 eth0 网卡目的 ip 是 192.168.1.100 数据包，dst参数表示目的。</span><br><span class="line">tcpdump -i eth0 -vnn dst host 192.168.1.100</span><br></pre></td></tr></table></figure>

<h4 id="II-vuls"><a href="#II-vuls" class="headerlink" title="II. vuls"></a>II. vuls</h4><p><a target="_blank" rel="noopener" href="https://github.com/future-architect/vuls">vuls - github</a></p>
<h4 id="III．legion"><a href="#III．legion" class="headerlink" title="III．legion"></a>III．legion</h4><p><strong>介绍</strong><br><a target="_blank" rel="noopener" href="https://govanguard.com/legion">legoin 官网</a><br><a target="_blank" rel="noopener" href="https://github.com/GoVanguard/legion">GitHub项目地址</a><br>Legion是SECFORCE的Sparta的分支，是一个开源，易于使用，超扩展和半自动化的网络渗透测试框架，针对发现，侦察和利用漏洞的信息系统。 Legion由GoVanguard开发和维护。</p>
<h5 id="legoin-测试"><a href="#legoin-测试" class="headerlink" title="legoin 测试"></a>legoin 测试</h5><p><strong>安装与使用</strong><br>kali取消了自带的Sparta而是改为legion，kali下的安装会方便的多；除此之外也可以尝试docker安装。kali终端直接输入legion即可启动。</p>
<p>填写的目标可为ip、可为网段、也可为域。</p>
<figure class="highlight plaintext"><input class="btn-copy" type="image" src="/img/icon/copy.svg" alt="复制" /><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.0/24</span><br><span class="line">10.10.10.10-20</span><br><span class="line">1.2.3.4</span><br><span class="line">bing.com</span><br></pre></td></tr></table></figure>
<p><img src="/img/Network-attack/legoin-use-1.png"></p>
<h3 id="3-Docker打包"><a href="#3-Docker打包" class="headerlink" title="3.Docker打包"></a>3.Docker打包</h3><p>Docker 是一个开源的应用容器引擎，基于 <a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-tutorial.html">Go 语言</a> 并遵从 Apache2.0 协议开源。</p>
<p>Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。</p>
<p>容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                </ul>
            
        </div>
        
        
    <div id="gitalk-container" class="comment link"
		data-enable="true"
        data-ae="false"
        data-ci="bf8247f1f66a43abd91f"
        data-cs="8151e71fe008a0f849031b72d321c20af8e897af"
        data-r="h1s97x.github.io"
        data-o="h1s97x"
        data-a="h1s97x"
        data-d="true"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>
<script src="/js/codeCopy.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
