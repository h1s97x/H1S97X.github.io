# 笔记本配置

笔记本（Notebook）是 Stellar 主题的特色功能，用于组织和管理笔记内容。

## 配置概览

笔记本配置（`notebook`）控制笔记的显示、排序、分页等选项。

| 字段 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| auto_excerpt | number | 128 | 自动摘要长度 |
| tagcons | object | - | 标签图标配置 |
| per_page | number | null | 每页显示笔记数量 |
| order_by | string | -updated | 笔记排序方式 |
| license | boolean/string | false | 许可协议 |
| share | boolean/array | false | 分享按钮 |

## 基础配置

### auto_excerpt - 自动摘要

当笔记没有指定 `excerpt` 和 `description` 时，自动提取的内容长度。

**配置示例**：

```yaml
notebook:
  auto_excerpt: 128
```

**说明**：
- 单位为字符数
- 建议 100-200 之间
- 可在笔记 front-matter 中覆盖

## 标签配置

### tagcons - 标签图标

为笔记标签设置图标，显示在标签树中。

**配置示例**：

```yaml
notebook:
  tagcons:
    '': solar:hashtag-square-bold  # 默认图标
    'JavaScript': solar:code-bold
    'Python': solar:programming-bold
    'Docker': solar:server-bold
    '教程': solar:book-bold
    '笔记': solar:pen-bold
```

**图标来源**：
- 使用 [Iconify](https://icon-sets.iconify.design/) 图标
- 推荐使用 `solar:` 系列保持风格统一
- 空字符串 `''` 表示默认图标

**常用标签图标**：

```yaml
tagcons:
  # 编程语言
  'JavaScript': solar:code-bold
  'Python': solar:programming-bold
  'Java': solar:cup-hot-bold
  'Go': solar:rocket-bold
  
  # 技术栈
  'React': solar:widget-bold
  'Vue': solar:layers-bold
  'Docker': solar:server-bold
  'Git': solar:branching-paths-bold
  
  # 内容类型
  '教程': solar:book-bold
  '笔记': solar:pen-bold
  '总结': solar:document-text-bold
  '问题': solar:question-circle-bold
  
  # 状态
  '进行中': solar:clock-circle-bold
  '已完成': solar:check-circle-bold
  '待办': solar:list-check-bold
```

## 分页配置

### per_page - 每页笔记数

控制笔记列表页每页显示的笔记数量。

**配置示例**：

```yaml
notebook:
  per_page: 20  # 每页显示 20 篇笔记
```

**可选值**：
- `null`：使用 Hexo 配置的 `per_page`
- `0`：不分页，显示所有笔记
- `数字`：指定每页数量

**在笔记本 YAML 中覆盖**：

```yaml
# source/_data/notebooks/my-notebook.yml
per_page: 10
```

## 排序配置

### order_by - 排序方式

控制笔记的排序规则。

**配置示例**：

```yaml
notebook:
  order_by: -updated  # 按更新时间降序
```

**可用排序字段**：
- `updated`：更新时间
- `date`：创建时间
- `title`：标题
- `random`：随机排序

**排序方向**：
- `-字段名`：降序（新到旧）
- `字段名`：升序（旧到新）

**排序示例**：

```yaml
# 按更新时间降序（最新的在前）
order_by: -updated

# 按创建时间降序
order_by: -date

# 按标题升序（A-Z）
order_by: title

# 按标题降序（Z-A）
order_by: -title

# 随机排序
order_by: random
```

**置顶笔记**：

无论排序方式如何，置顶笔记始终显示在最前面。在笔记 front-matter 中设置：

```yaml
---
pin: true  # 置顶
---
```

或使用数字指定置顶优先级：

```yaml
---
pin: 10  # 数字越大越靠前
---
```

**在笔记本 YAML 中覆盖**：

```yaml
# source/_data/notebooks/my-notebook.yml
order_by: -date
```

## 许可协议配置

### license - 笔记许可

设置笔记的版权许可协议。

**配置示例**：

```yaml
notebook:
  license: false  # 不显示许可协议
```

**可选值**：
- `false`：不显示许可协议
- `true`：使用主题默认许可协议
- `字符串`：自定义许可协议内容

**自定义许可协议**：

```yaml
notebook:
  license: '本笔记采用 [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/) 许可协议'
```

**在笔记本 YAML 中覆盖**：

```yaml
# source/_data/notebooks/my-notebook.yml
license: '本笔记本内容仅供学习参考'
```

**在笔记 front-matter 中覆盖**：

```yaml
---
license: '本笔记版权所有'
---
```

## 分享配置

### share - 分享按钮

控制笔记页面是否显示分享按钮。

**配置示例**：

```yaml
notebook:
  share: false  # 不显示分享按钮
```

**可选值**：
- `false`：不显示分享按钮
- `true`：显示默认分享按钮
- `数组`：指定分享方式

**自定义分享方式**：

```yaml
notebook:
  share: [wechat, weibo, link]
```

**在笔记本 YAML 中覆盖**：

```yaml
# source/_data/notebooks/my-notebook.yml
share: [twitter, link]
```

## 笔记本 YAML 配置

每个笔记本可以有独立的配置文件，位于 `source/_data/notebooks/`。

### 创建笔记本配置

```yaml
# source/_data/notebooks/javascript-notes.yml
name: JavaScript 学习笔记
description: 记录 JavaScript 学习过程中的知识点
base_dir: notes/javascript
menu_id: notes
leftbar: tagtree, recent
rightbar: toc
per_page: 15
order_by: -updated
license: 'CC BY-SA 4.0'
share: [twitter, link]
```

### 笔记本配置项

| 字段 | 类型 | 说明 |
|------|------|------|
| name | string | 笔记本名称 |
| description | string | 笔记本描述 |
| base_dir | string | 笔记路径前缀 |
| menu_id | string | 高亮的菜单项 |
| leftbar | string | 笔记列表页左侧栏 |
| rightbar | string | 笔记列表页右侧栏 |
| note_leftbar | string | 笔记内页左侧栏 |
| note_rightbar | string | 笔记内页右侧栏 |
| per_page | number | 每页笔记数 |
| order_by | string | 排序方式 |
| license | string | 许可协议 |
| share | array | 分享按钮 |

## 完整配置示例

### 技术笔记配置

```yaml
notebook:
  auto_excerpt: 150
  tagcons:
    '': solar:hashtag-square-bold
    'JavaScript': solar:code-bold
    'Python': solar:programming-bold
    'Docker': solar:server-bold
    'Git': solar:branching-paths-bold
    '教程': solar:book-bold
    '问题': solar:question-circle-bold
  per_page: 20
  order_by: -updated
  license: 'CC BY-SA 4.0'
  share: false
```

### 学习笔记配置

```yaml
notebook:
  auto_excerpt: 100
  tagcons:
    '': solar:hashtag-square-bold
    '数学': solar:calculator-bold
    '物理': solar:atom-bold
    '化学': solar:test-tube-bold
    '生物': solar:dna-bold
    '重点': solar:star-bold
    '难点': solar:fire-bold
  per_page: 30
  order_by: -date
  license: false
  share: false
```

### 工作笔记配置

```yaml
notebook:
  auto_excerpt: 200
  tagcons:
    '': solar:hashtag-square-bold
    '会议': solar:users-bold
    '任务': solar:list-check-bold
    '想法': solar:lightbulb-bold
    '问题': solar:question-circle-bold
    '已完成': solar:check-circle-bold
  per_page: 0  # 不分页
  order_by: -updated
  license: false
  share: false
```

## 笔记 Front-matter

笔记支持以下 front-matter 字段：

```yaml
---
title: 笔记标题
date: 2025-02-11
updated: 2025-02-11
tags: [JavaScript, 教程]
notebook: javascript-notes  # 所属笔记本
pin: true  # 置顶
license: 'CC BY-SA 4.0'  # 覆盖许可协议
share: false  # 覆盖分享设置
leftbar: tagtree  # 覆盖左侧栏
rightbar: toc  # 覆盖右侧栏
---
```

## 最佳实践

### 1. 笔记本组织

- **按主题分类**：为不同主题创建独立笔记本
- **使用标签**：为笔记添加详细标签便于检索
- **设置图标**：为常用标签设置图标

### 2. 排序策略

- **学习笔记**：按创建时间排序（`-date`）
- **工作笔记**：按更新时间排序（`-updated`）
- **参考文档**：按标题排序（`title`）

### 3. 分页设置

- **大量笔记**：设置合理的 `per_page`（15-30）
- **少量笔记**：不分页（`per_page: 0`）
- **移动端优化**：减少每页数量

### 4. 许可协议

- **开放分享**：使用 CC 许可协议
- **个人笔记**：不显示许可协议
- **工作笔记**：自定义版权声明

## 常见问题

### 笔记不显示？

1. 检查笔记 front-matter 中的 `notebook` 字段
2. 确认笔记本配置文件存在
3. 验证 `base_dir` 路径正确

### 标签图标不显示？

1. 检查标签名称是否完全匹配
2. 确认图标名称正确
3. 验证网络可访问 Iconify CDN

### 排序不生效？

1. 检查 `order_by` 字段拼写
2. 确认笔记有对应的日期字段
3. 清理缓存重新构建

### 如何创建新笔记本？

1. 在 `source/_data/notebooks/` 创建 YAML 文件
2. 配置笔记本信息
3. 在笔记 front-matter 中引用

## 相关配置

- [站点结构配置](./站点结构配置.md) - 配置笔记页面布局
- [文章配置](./文章配置.md) - 类似的文章配置
- [标签插件配置](./标签插件配置.md) - 笔记内标签插件

## 参考资源

- [Stellar 笔记本文档](https://xaoxuu.com/wiki/stellar/notebook/)
- [Iconify 图标库](https://icon-sets.iconify.design/)
