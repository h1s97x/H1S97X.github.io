utils.jq(()=>{$(function(){const s=document.getElementsByClassName("ds-giscus");for(var e=0;e<s.length;e++){const n=s[e],r=n.dataset.api;if(r==null)continue;const o=def.avatar;utils.request(n,r,async d=>{const i=await d.json(),l=n.getAttribute("limit");i.forEach((t,c)=>{if(!(l&&c>=l)){comment=t.body.length>50?t.body.substring(0,50)+"...":t.body;var a='<div class="timenode" index="'+c+'">';a+='<div class="header">',a+='<div class="user-info">',a+='<img src="'+(t.author.avatarUrl||o)+`" onerror="javascript:this.src='`+o+`';">`,a+="<span>"+t.author.login+"</span>",a+="</div>",a+="<span>"+new Date(t.createdAt).toLocaleString()+"</span>",a+="</div>",a+='<a class="body" href="'+t.url+'" target="_blank" rel="external nofollow noopener noreferrer">',a+=comment,a+="</a>",a+="</div>",$(n).append(a)}})})}})});
