---
title: 网络攻防
categories:
  - null
date: 2023-09-14 10:06:32
updated: 2023-09-14 10:06:32
tags:
---

![](img/Network-attack/network-attack.png)

### 网络攻防相关

[生动的解释各种概念(持续更新)|meiのblog (mmeiblog.cn)](https://mmeiblog.cn/archives/sheng-dong-de-jie-shi-ge-zhong-gai-nian-chi-xu-geng-xin)

[密钥交换（密钥协商）算法及其原理 - Yungyu - 博客园 (cnblogs.com)](https://www.cnblogs.com/yungyu16/p/13332882.html)

[会话技术——Cookies和Session详解 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/80832251)

[红蓝对抗|常用攻防工具大全-腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/2036081)





<a href="CTF-网络安全夺旗赛">CTF</a>

翻墙：export http_proxy=http://211.87.227.219:16116

### 作业提交

•cd p

•git add .

•git commit -am "li-si zuoye3 commit"

•git push

git地址：ssh://netatt@211.87.227.229:22023/~netatt/p

**git push 推送无法输入密码**

并非bug，其实系统已经接受密码了，主要错觉是由于人们经常使用的系统的密码在输入时都是回显“ **** ”或者“ ····· ”，而linux登陆的时候，输入密码没有任何回显，这么做的目的是防范有人在旁边能猜测到输入密码的长度，最大限度保证系统安全。

password：4102

### 平时作业

1.<a href="#游戏外挂解密--植物大战僵尸修改器">初试ollydbg分析外挂(辅助工具)</a>

  . 需要一个vmware虚拟机中的xp（https://msdn.itellyou.cn/）
  . 植物大战僵尸游戏以及辅助工具
  . 用od调试辅助工具，设断点WriteProcessMemory
  . 观察堆栈中比如“阳光值”变量地址，并尝试手动修改

2.<a href="#tor浏览器配置与使用">Tor浏览器使用报告</a>
3.windows23H2更新，装虚拟机
4.百度磁盘破解12k限制
5.kali linux安装
  一个能运行nmap的真linux环境，
    至少练习nmap的三个参数
    . IP地址
    . 给定端口范围，用-p选项
    . 测试端口服务类型和后台软件，用-sV选项

延申关键词: cve、exploit-db、msfconsole
6.假冒网站、wifi
7.新漏洞 (旧：MS08-067)
8.<a href="#逃避密码验证-内存覆盖">逃避密码验证-内存覆盖</a>
  安装visual studio c开发环境
  . 底层代码很多是c的，比如bof几乎全是c的
  os，以及jvm都是用c写的吧，
  . 然后分析bof/passwd那个程序的原理和机制

9.<a href="#文件检索工具使用">文件检索工具使用</a>
10.<a href="网络病毒测试.md">勒索病毒wanncry和wannkey实验</a>

  . 在虚拟机(XP)中安装wanncry
  . 等一会，注意别重启计算机
  . 然后用wannkey找回内存中的key并解密恢复文件
  * 这个实验有什么意义呢？
      就是单纯中一次毒然后解毒，希望以后就不中了。

11.网络钓鱼

[浅谈网络钓鱼技术-腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/2185416)

12.破解注册机

[学会软件破解，让注册机制形同虚设_怎么绕过注册码进入软件-CSDN博客](https://blog.csdn.net/AdamChin/article/details/6213265)

13.x-windows linux的图形化界面

[手把手教你DIY一个硬件键盘记录器](https://www.freebuf.com/geek/241398.html)
[工具开发｜键盘记录工具原理及代码实现](https://blog.csdn.net/weixin_42282189/article/details/121556685)

### 安装虚拟机

#### WinXP

系统：Windows XP
安装教程：
[VMware虚拟机之WindowsXP系统超详细下载安装与使用教程](https://blog.csdn.net/IronmanJay/article/details/129965817)
[itellyou官网 - 系统镜像下载](https://next.itellyou.cn/Original/)

这个教程非常详细，而且每一步都有图片，即使小白也能轻松使用。、

#### GNU/Linux

[GNU宣言](https://www.gnu.org/gnu/manifesto.zh-cn.html)

[Kali Linux |渗透测试和道德黑客Linux发行版](https://www.kali.org/)

[kali 虚拟机安装](https://www.kali.org/docs/virtualization/import-premade-vmware/)

#### 关于VHD和VHDX

[Windows挂载虚拟磁盘VHD/VHDX文件的4大方法](https://zhuanlan.zhihu.com/p/489743140)

[VMware导入vmdk文件（亲测有效）_vmdk导入vmware-CSDN博客](https://blog.csdn.net/szdenny/article/details/129553534?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-3-129553534-blog-114486547.235^v38^pc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-3-129553534-blog-114486547.235^v38^pc_relevant_sort_base2&utm_relevant_index=6)

VHD是Virtual Hard Disk的简称，是一种代表虚拟磁盘的文件格式。如果您使用Windows内置工具-备份和还原创建系统映像备份，您现在将Windows备份到VHD，在目标中将获得一个Window镜像备份文件夹，路径就像：\WindowsImageBackup\computer name\Backup YYYY-MM-DD HHMMSS。可以有多个.VHD文件和多个.xml文件。有多少VHD文件意味着您有多少个磁盘或分区。
VHDX（虚拟硬盘V2）是VHD的另一种格式。现在的磁盘映像大多都使用VHDX格式而不是VHD，因为VHD和VHDX之间容量限制：VHD上限为2TB，而VHDX的上限为64TB。并且您可以像安装VHD一样安装VHDX。
有时，您需要挂载VHD或VHDX文件才能从备份中访问文件，您应该怎么做？本文为您提供了Windows挂载虚拟磁盘的4种方法。



### 逃避密码验证-内存覆盖

[缓冲区溢出实验 | Leeyuxun の note](https://leeyuxun.github.io/缓冲区溢出实验.html)

[利用缓冲区溢出漏洞破解简易登录程序 - 掘金 (juejin.cn)](https://juejin.cn/post/6844903601316298760)

利用内存覆盖
使用栈存储变量，小字节序，低地址存储低字节，高地址存储高字节
进行输入时，将输入的密码存储在栈中，溢出输入覆盖，然后进行比较，如果相等则登录成功，如果不相等则登录失败

``` bof/passwd
#include <stdio.h>
#include <string.h>

char password[8] = "123";
char yourpassword[8]= "";

while(1){
printf("please input your password:\n");
scanf("%s",yourpassword);
if(strcmp(password,yourpassword) == 0)
{
    printf("login success!\n");
    break;
}
else
{
    printf("login failed!\n");
}
}
```
原理：
由于程序没有对输入密码的长度进行限制，并且密码存储在固定长度的字符数组中，这会导致存在内存溢出的风险。攻击者可以输入超过 yourpassword 变量长度的字符，导致溢出并改写其他内存区域的数据。

假设攻击者输入一个超长的字符串，其长度超过了 yourpassword 数组的长度。在这种情况下，输入的字符串会覆盖掉 yourpassword 之后的内存区域，可能包括了 password 数组。

通过这种内存覆盖，攻击者可以将输入的字符串替换为预设的密码，从而绕过登录验证。即使用户输入的密码与预设的密码不匹配，由于内存被覆盖，strcmp() 函数会判断两个字符串相同，进而触发登录成功的分支。





### 游戏外挂解密--植物大战僵尸修改器 





### Tor浏览器配置与使用
[如何安全使用tor浏览器](https://zh.safetydetectives.com/blog/%e5%a6%82%e4%bd%95%e5%ae%89%e5%85%a8%e4%bd%bf%e7%94%a8tor%e6%b5%8f%e8%a7%88%e5%99%a8/)
[Tor使用手册](https://blog.csdn.net/yasheng396/article/details/86307983)
[暗网网址导航大全](https://uzzz.org/article/4661/)

![tor使用abc](img\Network-attack\tor使用abc.png)


### 文件检索工具使用

[超越 Everything 的 4 款神器！ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/250657267)
- Everything
- DocFetcher
- Listary
- Wox
- BBdoc
- FileLocator Pro
- Anytxt Search
- searchmyfiles
#### everything

[高效搜索神器Everything最全使用技巧(一篇看全)及详细功能帮助教程(更新第10次) (zhihu.com)](https://www.zhihu.com/tardis/zm/art/409783518?source_id=1005#Everything是一款基于名称快速定位文件和文件夹的搜索工具)

[文件搜索神器 | Everything - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/409431144)

[windows本地文件搜索神器 Everything 为什么速度这么快？ - zqifa - 博客园 (cnblogs.com)](https://www.cnblogs.com/zqifa/p/12769116.html#:~:text=windows本地文件搜索神器 Everything 为什么速度这么快？ 1 1.Everything只是读取磁盘上的USN日志 Everything并没有全部逐一扫描我们硬盘上的文件，而是通过读取NTFS文件系统中的USN日志来完成的，只能检索文件名。 Everything并不扫描整个磁盘，只是读取磁盘上的USN日志，所以速度飞快 但因此缺点也明显：,3、由于Everything只读取USN日志，所以也无法搜索网络邻居及映射的网络文件夹。 USN日志 ... 2 2.HTTP 和 FTP 文件共享功能)

Everything是一款免费的文件搜索工具，它有着轻量的软件体积，能够快速的定位到你想要的文件，而且它的搜索速度非常的快，几乎是瞬间就能够找到你想要的文件，而且它的搜索范围也非常的广，几乎能够搜索到你电脑中的所有文件，而且它还支持正则表达式搜索，能够帮助你快速的找到你想要的文件，非常的方便。
**优点**：
- 轻量级，体积小（portable版只有1.5M）
- 支持中文
- 快速启动，占用资源少
- 搜索速度快，几乎是瞬间
- 支持正则表达式搜索
- 自动更新索引，全盘搜索
- 免费软件，无广告
- 界面简洁

**缺点**：
- 仅支持文件名搜索，不支持文件内容搜索（最大的弊病）
- 文件预览支持的文件类型有限，图片、文本可预览
##### 使用：
**启动方式**
启动Everything的方式有三种，软件快捷方式、右键菜单与快捷键。

1. 快捷方式也就是软件的图标了，双击软件图标即可启动Everything。

2. Everything可以集成到资源管理器的右键菜单中：

   1. 点击 工具->选项 打开Everything的设置并转到右键菜单页：

      ![](img\Network-attack\everything-settings.png)
   
   2. 勾选上“在资源管理器中显示”选项，然后点击“应用”按钮即可。

在文件夹背景或文件夹图标上右键启动Everything，**会将搜索范围限定在该文件夹内**。

3. Everything默认没有设置启动快捷键，需要我们自己设置。点击 工具->选项->快捷键页可以自行设置。
**搜索功能**
当你使用Everything搜索到想要的文件后，你可以直接双击用默认关联程序打开该文件，右键点击进行更多操作，或者，将它拖动到其他软件的窗口或快捷方式上打开。

你也可以在视图菜单中打开Everything的预览窗口，直接在Everything中预览文件。everything视图支持的文件类型有限，如果需要预览其他文件类型，可以使用插件。
![](img\Network-attack\everything-preview.png)



**搜索语法**
Everything支持使用通配符、布尔运算符、正则表达式等搜索语法，可以帮助你快速的找到你想要的文件。
点击 帮助->搜索语法 可以查看Everything支持的搜索语法。
![](img\Network-attack\everything-grammar.png)

##### DocFetcher

[DocFetcher-文件快速搜索 (sourceforge.io)](https://docfetcher.sourceforge.io/zh/index.html)

[Docfetcher 与 Anytxt searcher 内容搜索比较与补救方法 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/563210012)

**优点**：
- 免费开源
- 支持中文
- 支持文件名和文件内容搜索
- 支持正则表达式搜索
- 支持多种文件格式，包括PDF、Office、HTML、文本、压缩包等

**缺点**：

- 体积较大，安装包有70M
- 搜索速度慢，需要先建立索引，建立索引非常耗费电脑资源，而且时间也很长
- 有付费版pro，功能更全但收费，目前原版作者已不再更新

![](img\Network-attack\DocFetcher-1.png)
![](img\Network-attack\DocFetcher-2.png)

### x-windows linux的图形化界面

[Linux安装X Window服务——远程显示GUI - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/88617777)