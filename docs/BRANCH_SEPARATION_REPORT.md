# GitHubåˆ†æ”¯åˆ†ç¦»å®æ–½æŠ¥å‘Š

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

æˆåŠŸå®æ–½äº†æ–¹æ¡ˆä¸€ï¼ˆGitHubåˆ†æ”¯åˆ†ç¦»ï¼‰ï¼Œå°†åšå®¢å¼€å‘æºç ä¸Hexoç”Ÿæˆçš„é™æ€æ–‡ä»¶åˆ†ç¦»åˆ°ä¸åŒåˆ†æ”¯ï¼Œä¼˜åŒ–äº†é¡¹ç›®ç»“æ„å’Œéƒ¨ç½²æµç¨‹ã€‚

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. æºç åˆ†æ”¯æ¸…ç†
- **æ¸…ç†ç”Ÿæˆæ–‡ä»¶**: åˆ é™¤äº†212ä¸ªç”Ÿæˆçš„é™æ€æ–‡ä»¶å’Œç›®å½•
- **ä¿ç•™æºç **: ä¿ç•™äº†æ‰€æœ‰å¼€å‘å¿…éœ€çš„æºç æ–‡ä»¶
- **æ›´æ–°.gitignore**: æ·»åŠ äº†å®Œæ•´çš„å¿½ç•¥è§„åˆ™ï¼Œé˜²æ­¢ç”Ÿæˆæ–‡ä»¶è¢«æäº¤

### 2. è‡ªåŠ¨åŒ–å·¥å…·å¼€å‘
- **`tools/prepare-source-branch.js`**: æºç åˆ†æ”¯å‡†å¤‡å·¥å…·
- **`tools/deploy.js`**: è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
- **GitHub Actionså·¥ä½œæµ**: `.github/workflows/deploy.yml`

### 3. é…ç½®æ–‡ä»¶ä¼˜åŒ–
- **package.json**: æ·»åŠ äº†éƒ¨ç½²ç›¸å…³è„šæœ¬
- **_config.yml**: ä¿®å¤äº†sitemapé…ç½®é—®é¢˜
- **.gitignore**: å®Œå–„äº†å¿½ç•¥è§„åˆ™

### 4. æ„å»ºæµ‹è¯•
- **é™æ€æ–‡ä»¶ç”Ÿæˆ**: æˆåŠŸç”Ÿæˆ325ä¸ªæ–‡ä»¶
- **sitemapä¿®å¤**: è§£å†³äº†sitemap.xmlç”Ÿæˆé—®é¢˜
- **ä¸»é¢˜é…ç½®**: ç¡®ä¿Stellarä¸»é¢˜æ­£å¸¸å·¥ä½œ

## ğŸ› ï¸ åˆ›å»ºçš„å·¥å…·å’Œè„šæœ¬

### NPMè„šæœ¬å‘½ä»¤
```bash
npm run deploy              # è‡ªåŠ¨éƒ¨ç½²åˆ°gh-pagesåˆ†æ”¯
npm run deploy:manual       # æ‰‹åŠ¨éƒ¨ç½²ï¼ˆåŸhexo deployï¼‰
npm run prepare-source      # å‡†å¤‡æºç åˆ†æ”¯ï¼ˆæ¸…ç†ç”Ÿæˆæ–‡ä»¶ï¼‰
```

### è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
- **æœ¬åœ°éƒ¨ç½²**: `tools/deploy.js`
- **CI/CDéƒ¨ç½²**: `.github/workflows/deploy.yml`

### æºç åˆ†æ”¯å‡†å¤‡å·¥å…·
- **çŠ¶æ€æ£€æŸ¥**: `node tools/prepare-source-branch.js --status`
- **æ‰§è¡Œæ¸…ç†**: `node tools/prepare-source-branch.js`
- **å¸®åŠ©ä¿¡æ¯**: `node tools/prepare-source-branch.js --help`

## ğŸ“Š æ¸…ç†ç»Ÿè®¡

### åˆ é™¤çš„ç”Ÿæˆæ–‡ä»¶
- **é™æ€HTMLæ–‡ä»¶**: 180+ ä¸ª
- **ç”Ÿæˆç›®å½•**: 19 ä¸ªï¼ˆarchives, categories, tags, css, jsç­‰ï¼‰
- **é…ç½®å’Œç´¢å¼•æ–‡ä»¶**: 8 ä¸ªï¼ˆsitemap.xml, atom.xmlç­‰ï¼‰
- **æ€»è®¡**: 212 ä¸ªæ–‡ä»¶å’Œç›®å½•è¢«æ¸…ç†

### ä¿ç•™çš„æºç æ–‡ä»¶
- **æºæ–‡ç« **: `source/_posts/` ç›®å½•ä¸‹çš„æ‰€æœ‰Markdownæ–‡ä»¶
- **ä¸»é¢˜æ–‡ä»¶**: `themes/` ç›®å½•
- **é…ç½®æ–‡ä»¶**: `_config.yml`, `_config.*.yml`
- **å·¥å…·è„šæœ¬**: `tools/` ç›®å½•
- **æµ‹è¯•æ–‡ä»¶**: `test/` ç›®å½•
- **GitHubé…ç½®**: `.github/` ç›®å½•

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### åˆ†æ”¯ç»“æ„è®¾è®¡
- **masteråˆ†æ”¯**: å­˜å‚¨å¼€å‘æºç 
- **gh-pagesåˆ†æ”¯**: å­˜å‚¨ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆå¾…åˆ›å»ºï¼‰

### è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹
1. **æœ¬åœ°æ„å»º**: `hexo clean && hexo generate`
2. **åˆ†æ”¯åˆ‡æ¢**: åˆ‡æ¢åˆ°gh-pagesåˆ†æ”¯
3. **æ–‡ä»¶å¤åˆ¶**: å¤åˆ¶publicç›®å½•å†…å®¹åˆ°æ ¹ç›®å½•
4. **æäº¤æ¨é€**: è‡ªåŠ¨æäº¤å¹¶æ¨é€æ›´æ”¹
5. **åˆ†æ”¯å›åˆ‡**: è¿”å›masteråˆ†æ”¯

### GitHub Actionså·¥ä½œæµ
- **è§¦å‘æ¡ä»¶**: pushåˆ°main/masteråˆ†æ”¯
- **æ„å»ºç¯å¢ƒ**: Ubuntu + Node.js 18
- **éƒ¨ç½²å·¥å…·**: peaceiris/actions-gh-pages@v3
- **è‡ªåŠ¨åŒ–ç¨‹åº¦**: å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„

## ğŸ“ é…ç½®æ–‡ä»¶æ›´æ–°

### .gitignoreä¼˜åŒ–
```gitignore
# Hexo generated files
public/
db.json
*.log
.deploy_git/

# Generated static files
index.html
atom.xml
search.xml
sitemap.xml
sitemap.txt
CNAME

# Year directories (generated)
2020/
2023/
2024/
2025/
archives/
categories/
tags/
page/
search/
css/
js/
img/
music/
assets/
photoswipe/
```

### package.jsonè„šæœ¬
```json
{
  "scripts": {
    "deploy": "node tools/deploy.js",
    "deploy:manual": "hexo clean && hexo generate && hexo deploy",
    "prepare-source": "node tools/prepare-source-branch.js"
  }
}
```

## ğŸ¯ å®ç°çš„ä¼˜åŠ¿

### 1. ç‰ˆæœ¬æ§åˆ¶æ¸…æ™°
- **æºç å†å²**: åªè¿½è¸ªæºç å˜æ›´ï¼Œå†å²æ¸…æ™°
- **ä»“åº“ä½“ç§¯**: masteråˆ†æ”¯ä½“ç§¯å¤§å¹…å‡å°
- **åä½œå‹å¥½**: è´¡çŒ®è€…åªéœ€å…³æ³¨æºç 

### 2. éƒ¨ç½²æµç¨‹æ ‡å‡†åŒ–
- **GitHub PagesåŸç”Ÿæ”¯æŒ**: ç›´æ¥ä»gh-pagesåˆ†æ”¯éƒ¨ç½²
- **è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜**: æ¨é€å³éƒ¨ç½²ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
- **é”™è¯¯å¤„ç†å®Œå–„**: æ„å»ºå¤±è´¥æ—¶æœ‰æ˜ç¡®æç¤º

### 3. å¼€å‘ä½“éªŒä¼˜åŒ–
- **æ„å»ºé€Ÿåº¦**: ä¸å†éœ€è¦å¤„ç†å¤§é‡ç”Ÿæˆæ–‡ä»¶
- **å†²çªå‡å°‘**: é¿å…ç”Ÿæˆæ–‡ä»¶çš„åˆå¹¶å†²çª
- **å·¥å…·å®Œå–„**: æä¾›äº†å®Œæ•´çš„å·¥å…·é“¾

## ğŸš§ å¾…å®Œæˆçš„å·¥ä½œ

### 1. gh-pagesåˆ†æ”¯åˆ›å»º
ç”±äºå­æ¨¡å—é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºgh-pagesåˆ†æ”¯ï¼š
```bash
# æ–¹æ³•1: æ‰‹åŠ¨åˆ›å»º
git checkout --orphan gh-pages
git rm -rf .
hexo generate
cp -r public/* .
git add .
git commit -m "Initial deployment"
git push origin gh-pages

# æ–¹æ³•2: ä½¿ç”¨GitHub Actionsè‡ªåŠ¨åˆ›å»º
# æ¨é€åˆ°masteråˆ†æ”¯åï¼ŒGitHub Actionsä¼šè‡ªåŠ¨åˆ›å»º
```

### 2. GitHub Pagesè®¾ç½®
- åœ¨GitHubä»“åº“è®¾ç½®ä¸­é…ç½®Pagesæºä¸ºgh-pagesåˆ†æ”¯
- è®¾ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¦‚æœéœ€è¦ï¼‰
- å¯ç”¨HTTPS

### 3. å­æ¨¡å—å¤„ç†
- è§£å†³themes/diasporaå­æ¨¡å—é—®é¢˜
- æˆ–è€…å°†å­æ¨¡å—è½¬æ¢ä¸ºæ™®é€šç›®å½•

## ğŸ“š ä½¿ç”¨æŒ‡å—

### æ—¥å¸¸å¼€å‘æµç¨‹
1. **ç¼–å†™æ–‡ç« **: åœ¨`source/_posts/`ç›®å½•ä¸‹åˆ›å»ºMarkdownæ–‡ä»¶
2. **æœ¬åœ°é¢„è§ˆ**: `hexo server`
3. **æäº¤æºç **: `git add . && git commit -m "feat: add new post"`
4. **æ¨é€éƒ¨ç½²**: `git push origin master`ï¼ˆGitHub Actionsè‡ªåŠ¨éƒ¨ç½²ï¼‰

### æ‰‹åŠ¨éƒ¨ç½²
```bash
npm run deploy              # ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
# æˆ–
npm run deploy:manual       # ä½¿ç”¨ä¼ ç»Ÿhexo deploy
```

### æ•…éšœæ’é™¤
```bash
npm run prepare-source --status    # æ£€æŸ¥æºç åˆ†æ”¯çŠ¶æ€
npm run validate-stellar           # éªŒè¯ä¸»é¢˜é…ç½®
npm test                          # è¿è¡Œæµ‹è¯•
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [GitHub Issueæ¨¡æ¿](.github/ISSUE_TEMPLATE/source_deployment_separation.md)
- [Stellarä¸»é¢˜é…ç½®æŒ‡å—](STELLAR_CONFIG_GUIDE.md)
- [æ–‡ä»¶ç»„ç»‡è§„èŒƒ](FILE_ORGANIZATION_GUIDE.md)
- [GitHub Pagesæ–‡æ¡£](https://docs.github.com/en/pages)

## ğŸ“… å®æ–½æ—¶é—´çº¿

- **2024-12-28 14:00**: å¼€å§‹åˆ†æå’Œè®¾è®¡æ–¹æ¡ˆ
- **2024-12-28 15:00**: åˆ›å»ºè‡ªåŠ¨åŒ–å·¥å…·
- **2024-12-28 16:00**: æ‰§è¡Œæºç åˆ†æ”¯æ¸…ç†
- **2024-12-28 17:00**: é…ç½®GitHub Actionså·¥ä½œæµ
- **2024-12-28 18:00**: å®Œæˆä¸»è¦å®æ–½å·¥ä½œ

## ğŸ‰ æ€»ç»“

GitHubåˆ†æ”¯åˆ†ç¦»æ–¹æ¡ˆå·²åŸºæœ¬å®æ–½å®Œæˆï¼Œå®ç°äº†ï¼š

1. **æ¸…æ™°çš„åˆ†æ”¯ç»“æ„**: masterå­˜æºç ï¼Œgh-pageså­˜é™æ€æ–‡ä»¶
2. **å®Œæ•´çš„è‡ªåŠ¨åŒ–å·¥å…·é“¾**: ä»å¼€å‘åˆ°éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–
3. **æ ‡å‡†åŒ–çš„å·¥ä½œæµç¨‹**: ç¬¦åˆGitHub Pagesæœ€ä½³å®è·µ
4. **ä¼˜åŒ–çš„å¼€å‘ä½“éªŒ**: æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´æ¸…æ™°çš„ç‰ˆæœ¬æ§åˆ¶

ä¸‹ä¸€æ­¥åªéœ€è¦è§£å†³å­æ¨¡å—é—®é¢˜å¹¶åˆ›å»ºgh-pagesåˆ†æ”¯ï¼Œå³å¯å®Œå…¨å¯ç”¨æ–°çš„éƒ¨ç½²æµç¨‹ã€‚

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2024-12-28*  
*å®æ–½æ–¹æ¡ˆ: GitHubåˆ†æ”¯åˆ†ç¦»ï¼ˆæ–¹æ¡ˆä¸€ï¼‰*  
*çŠ¶æ€: åŸºæœ¬å®Œæˆï¼Œå¾…æœ€ç»ˆéƒ¨ç½²éªŒè¯*